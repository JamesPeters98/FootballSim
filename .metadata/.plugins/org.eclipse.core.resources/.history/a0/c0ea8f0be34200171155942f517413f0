package com.james;

import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;

public class League {
	
	private List<Team> teams;
	private HashMap<Team,LeagueStats> leagueStats;
	
	public League(){
		teams = new LinkedList<Team>();
		leagueStats = new HashMap<Team,LeagueStats>();
		addTeam(Teams.CHELSEA);
		addTeam(Teams.LIVERPOOL);
		addTeam(Teams.MAN_CITY);
		addTeam(Teams.TOTTENHAM);
	}
	
	private void addTeam(Team team){
		teams.add(team);
		leagueStats.put(team, new LeagueStats());
	}
	
	public List<Team> getTeams(){
		return teams;
	}
	
	public void addStat(MatchResult result){
		LeagueStats statsHome = leagueStats.get(result.getHomeTeam());
		statsHome.goals += result.getHomeGoals();
		statsHome.goalsConceeded = result.getAwayGoals();
		statsHome.points = result.getHomePoints();
		
		LeagueStats statsAway = leagueStats.get(result.getAwayTeam());
		statsAway.goals += result.getAwayGoals();
		statsAway.goalsConceeded = result.getHomeGoals();
		statsAway.points = result.getAwayPoints();
	}
	
	public void printTable(){
		for(Map.Entry<Team, LeagueStats> entry : leagueStats.entrySet()) {
		    Team team = entry.getKey();
		    LeagueStats stats = entry.getValue();
		    System.out.format("%-25s%-15s%-15s%-15s\n", new String[]{team.name,""+stats.points,""+stats.goals,""+stats.goalsConceeded});
		}
	}

}

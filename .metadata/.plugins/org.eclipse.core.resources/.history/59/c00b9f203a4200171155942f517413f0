package com.james;

public class Sim {
	
	static double trials = 10000;
	static int totalGoals = 0;
	static int openPlayGoals = 0;
	static int penGoals = 0;
	static int freeKickGoals = 0;
	static int pens = 0;
	static int freekicks = 0;
	
	static int teamAgoals;
	static int teamBgoals;

	public static void main(String[] args) {
			
		Team a = new Team("Team A", 0.5, 0.5, 0.9, 0.9);
		Team b = new Team("Team B", 1, 1, 0.9, 0.9);
		
		for(int z = 1; z<=trials; z++){
			for(int i = 1; i<= 90; i++){
				teamAgoals += teamLoop(b,a);
				teamBgoals += teamLoop(a,b);
			}
		}
		double averageGoals = (openPlayGoals+penGoals+freeKickGoals)/trials;
		double averageOpenPlayGoals = openPlayGoals/trials;
		double averagePenGoals = penGoals/trials;
		double averageFreekickGoals = freeKickGoals/trials;
		double averagePens = pens/trials;
		double averageFreekicks = freekicks/trials;
		
		System.out.println("total goals: "+averageGoals);
		System.out.println("pen goals: "+averagePenGoals);
		System.out.println("freekick goals: "+averageFreekickGoals);
		System.out.println("open play goals: "+averageOpenPlayGoals);
		System.out.println("pens: "+averagePens);
		System.out.println("freekicks: "+averageFreekicks);
		
		System.out.println("teamAGoals: "+teamAgoals/trials);
		System.out.println("teamBGoals: "+teamBgoals/trials);

	}
	
	public static int teamLoop(Team teamA, Team teamB){
		double rand = Math.random();
		//Probability of defensive error
		if(rand <= 1-teamA.defence){
			rand = Math.random();
			if(rand <= 0.02){
				pens++;
				rand = Math.random();
				if(rand <= teamB.penalites){
					penGoals++;
					return 1;
				}
			} 
			else if(rand <= 0.20){
				freekicks++;
				rand = Math.random();
				if(rand <= teamB.freekicks){
					freeKickGoals++;
					return 1;
				}
			}
			//prob of attack
			else if(rand <= teamB.attack){
				openPlayGoals++;
				return 1;
			}
			
		}
		return 0;
	}

}
